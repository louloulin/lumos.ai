# DeepSeek Agent æ¼”ç¤º

è¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ DeepSeek ä½œä¸º LLM æä¾›è€…æ¥åˆ›å»ºä¸€ä¸ªæ™ºèƒ½ Agentã€‚

## åŠŸèƒ½ç‰¹æ€§

- âœ… **DeepSeek LLM é›†æˆ** - ä½¿ç”¨ DeepSeek-Chat æ¨¡å‹
- âœ… **å¤šç§å·¥å…·æ”¯æŒ** - ä»£ç åˆ†æã€æ•°å­¦è®¡ç®—ã€æ–‡æœ¬åˆ†æ
- âœ… **å‡½æ•°è°ƒç”¨** - æ™ºèƒ½å·¥å…·é€‰æ‹©å’Œæ‰§è¡Œ
- âœ… **ä¸­æ–‡æ”¯æŒ** - å®Œæ•´çš„ä¸­æ–‡äº¤äº’ä½“éªŒ
- âœ… **é”™è¯¯å¤„ç†** - ä¼˜é›…çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·åé¦ˆ

## å‰ç½®è¦æ±‚

1. **DeepSeek API å¯†é’¥** - ä» [DeepSeek å®˜ç½‘](https://platform.deepseek.com/) è·å–
2. **Rust ç¯å¢ƒ** - ç¡®ä¿å·²å®‰è£… Rust 1.70+

## å¿«é€Ÿå¼€å§‹

### 1. è®¾ç½® API å¯†é’¥

```bash
# Windows (PowerShell)
$env:DEEPSEEK_API_KEY="your-deepseek-api-key"

# Windows (Command Prompt)
set DEEPSEEK_API_KEY=your-deepseek-api-key

# Linux/macOS
export DEEPSEEK_API_KEY="your-deepseek-api-key"
```

### 2. è¿è¡Œç¤ºä¾‹

```bash
# è¿›å…¥ç¤ºä¾‹ç›®å½•
cd lumosai_examples

# è¿è¡Œ DeepSeek Agent æ¼”ç¤º
cargo run --example deepseek_agent_demo
```

## ç¤ºä¾‹åŠŸèƒ½

### ğŸ”§ å†…ç½®å·¥å…·

1. **ä»£ç åˆ†æå™¨** (`code_analyzer`)
   - åˆ†æä»£ç å¤æ‚åº¦
   - æä¾›æ”¹è¿›å»ºè®®
   - æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€

2. **æ•°å­¦è®¡ç®—å™¨** (`math_calculator`)
   - è®¡ç®—å¤æ‚æ•°å­¦è¡¨è¾¾å¼
   - æ”¯æŒåŸºæœ¬è¿ç®—å’Œå‡½æ•°
   - æ™ºèƒ½è¡¨è¾¾å¼è§£æ

3. **æ–‡æœ¬åˆ†æå™¨** (`text_analyzer`)
   - ç»Ÿè®¡æ–‡æœ¬ä¿¡æ¯
   - ç®€å•æƒ…æ„Ÿåˆ†æ
   - å¤šè¯­è¨€æ”¯æŒ

### ğŸ“‹ æµ‹è¯•åœºæ™¯

ç¤ºä¾‹åŒ…å« 4 ä¸ªé¢„è®¾æµ‹è¯•åœºæ™¯ï¼š

1. **æ•°å­¦è®¡ç®—æµ‹è¯•** - æ¼”ç¤ºæ•°å­¦å·¥å…·çš„ä½¿ç”¨
2. **ä»£ç åˆ†ææµ‹è¯•** - åˆ†æ Rust ä»£ç ç‰‡æ®µ
3. **æ–‡æœ¬åˆ†ææµ‹è¯•** - åˆ†æä¸­è‹±æ–‡æ··åˆæ–‡æœ¬
4. **ç»¼åˆä»»åŠ¡æµ‹è¯•** - å¤šå·¥å…·åä½œå®Œæˆå¤æ‚ä»»åŠ¡

## è¾“å‡ºç¤ºä¾‹

```
ğŸ¤– DeepSeek Agent æ™ºèƒ½åŠ©æ‰‹æ¼”ç¤º
=====================================
âœ… æ‰¾åˆ°DeepSeek APIå¯†é’¥ï¼Œæ­£åœ¨åˆå§‹åŒ–...
ğŸ”§ æ­£åœ¨æ·»åŠ å·¥å…·...
âœ… å·¥å…·æ·»åŠ å®Œæˆï¼šä»£ç åˆ†æå™¨ã€æ•°å­¦è®¡ç®—å™¨ã€æ–‡æœ¬åˆ†æå™¨

==================================================
ğŸ“‹ æµ‹è¯•åœºæ™¯ 1: æ•°å­¦è®¡ç®—æµ‹è¯•
==================================================
ğŸ‘¤ ç”¨æˆ·è¾“å…¥: è¯·å¸®æˆ‘è®¡ç®— 2+3*4 çš„ç»“æœï¼Œå¹¶è§£é‡Šè®¡ç®—è¿‡ç¨‹ã€‚

ğŸ¤– DeepSeekæ­£åœ¨æ€è€ƒ...

ğŸ’¬ DeepSeekå›ç­”:
æˆ‘æ¥å¸®ä½ è®¡ç®— 2+3*4 çš„ç»“æœã€‚

ğŸ” æ‰§è¡Œæ­¥éª¤è¯¦æƒ…:
  æ­¥éª¤ 1: ToolCall
    ğŸ› ï¸  å·¥å…·è°ƒç”¨:
      - math_calculator: {
          "expression": "2+3*4"
        }
    ğŸ“Š å·¥å…·ç»“æœ:
      - math_calculator: {
          "calculation_complete": true,
          "expression": "2+3*4",
          "result": 14.0
        }

æ ¹æ®æ•°å­¦è¿ç®—è§„åˆ™ï¼Œ2+3*4 çš„è®¡ç®—è¿‡ç¨‹å¦‚ä¸‹ï¼š
1. é¦–å…ˆè®¡ç®—ä¹˜æ³•ï¼š3*4 = 12
2. ç„¶åè®¡ç®—åŠ æ³•ï¼š2+12 = 14

æ‰€ä»¥ 2+3*4 = 14
```

## é…ç½®é€‰é¡¹

### DeepSeek æ¨¡å‹é…ç½®

```rust
let deepseek_provider = Arc::new(DeepSeekProvider::new(
    api_key,
    Some("deepseek-chat".to_string()), // å¯é€‰ï¼šæŒ‡å®šæ¨¡å‹
));
```

### Agent é…ç½®

```rust
let mut agent = create_basic_agent(
    "DeepSeekæ™ºèƒ½åŠ©æ‰‹".to_string(),
    "ä½ æ˜¯ä¸€ä¸ªåŸºäºDeepSeekçš„æ™ºèƒ½åŠ©æ‰‹...".to_string(),
    deepseek_provider
);
```

## è‡ªå®šä¹‰å·¥å…·

ä½ å¯ä»¥è½»æ¾æ·»åŠ è‡ªå·±çš„å·¥å…·ï¼š

```rust
fn create_custom_tool() -> Box<dyn Tool> {
    let schema = ToolSchema::new(vec![
        ParameterSchema {
            name: "input".to_string(),
            description: "è¾“å…¥å‚æ•°".to_string(),
            r#type: "string".to_string(),
            required: true,
            properties: None,
            default: None,
        },
    ]);
    
    Box::new(FunctionTool::new(
        "custom_tool".to_string(),
        "è‡ªå®šä¹‰å·¥å…·æè¿°".to_string(),
        schema,
        |params| {
            // å·¥å…·é€»è¾‘
            Ok(serde_json::json!({
                "result": "å¤„ç†å®Œæˆ"
            }))
        },
    ))
}

// æ·»åŠ åˆ° Agent
agent.add_tool(create_custom_tool())?;
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **API å¯†é’¥é”™è¯¯**
   ```
   âŒ é”™è¯¯ï¼šæœªè®¾ç½®DEEPSEEK_API_KEYç¯å¢ƒå˜é‡
   ```
   **è§£å†³æ–¹æ¡ˆ**ï¼šç¡®ä¿æ­£ç¡®è®¾ç½®äº†ç¯å¢ƒå˜é‡

2. **ç½‘ç»œè¿æ¥é—®é¢˜**
   ```
   âŒ é”™è¯¯: ç½‘ç»œè¯·æ±‚å¤±è´¥
   ```
   **è§£å†³æ–¹æ¡ˆ**ï¼šæ£€æŸ¥ç½‘ç»œè¿æ¥å’Œé˜²ç«å¢™è®¾ç½®

3. **API é™åˆ¶**
   ```
   âŒ é”™è¯¯: API è°ƒç”¨é¢‘ç‡é™åˆ¶
   ```
   **è§£å†³æ–¹æ¡ˆ**ï¼šç­‰å¾…ä¸€æ®µæ—¶é—´åé‡è¯•ï¼Œæˆ–å‡çº§ API è®¡åˆ’

### è°ƒè¯•æ¨¡å¼

è®¾ç½®ç¯å¢ƒå˜é‡å¯ç”¨è¯¦ç»†æ—¥å¿—ï¼š

```bash
export RUST_LOG=debug
cargo run --example deepseek_agent_demo
```

## ç›¸å…³æ–‡æ¡£

- [DeepSeek API æ–‡æ¡£](https://platform.deepseek.com/api-docs/)
- [LumosAI æ ¸å¿ƒæ–‡æ¡£](../lumosai-doc/)
- [å·¥å…·å¼€å‘æŒ‡å—](../lumosai-doc/05_tool_development.md)

## è®¸å¯è¯

æœ¬ç¤ºä¾‹éµå¾ªé¡¹ç›®çš„å¼€æºè®¸å¯è¯ã€‚
