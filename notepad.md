@plan6.md 按照这个计划，同时参考 mastra和rig目录下代码，实现相关的功能，实现后增加测试验证，验证通过后更新 @plan6.md 标记实现的功能